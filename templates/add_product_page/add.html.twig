{% extends 'base.html.twig' %}


{% block content %}
<div class="container mt-4">
    <h2>Add new product</h2>

    {% for message in app.flashes('success') %}
        <div class="alert alert-success">{{ message }}</div>
    {% endfor %}
    {% for message in app.flashes('error') %}
        <div class="alert alert-danger">{{ message }}</div>
    {% endfor %}

    <form action="{{ path('product_add') }}" method="post" enctype="multipart/form-data">
        <div class="row mb-3">
            <div class="col-md-4">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" name="name" required>
            </div>
            <div class="col-md-4">
                <label for="price" class="form-label">Price (UAH)</label>
                <input type="number" class="form-control" id="price" name="price" step="0.01" required>
            </div>
            <div class="col-md-4">
                <label for="stock" class="form-label">Stock</label>
                <input type="text" class="form-control" id="stock" name="stock">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label for="mainimage" class="form-label">Main photo</label>
                <input type="text" class="form-control" id="mainimage" name="mainimage">
            </div>
            <div class="col-md-6">
                <label for="image" class="form-label">Photo</label>
                <input type="text" class="form-control" id="image" name="image">
            </div>
        </div>

        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label for="category" class="form-label">Category</label>
                <select class="form-control" id="category" name="category" required>
                    <option value="">Choose category</option>
                    {% for category in categories %}
                        <option value="{{ category.id }}">{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-6">
                <label for="supplier" class="form-label">Supplier</label>
                <select class="form-control" id="supplier" name="supplier" required>
                    <option value="">Suppliers</option>
                    {% for supplier in suppliers %}
                        <option value="{{ supplier.id }}">{{ supplier.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Add</button>
    </form>
</div>
{% endblock %}
